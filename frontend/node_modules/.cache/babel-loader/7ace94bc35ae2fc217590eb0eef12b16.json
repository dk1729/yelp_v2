{"ast":null,"code":"var _jsxFileName = \"/Users/darthvader/Documents/CMPE273/yelp_v2/frontend/src/components/addRestPhotos.js\";\nimport React from 'react';\nimport ImageUploader from 'react-images-upload';\nimport InternalRestHeader from './InternalRestHeader';\nimport axios from 'axios';\nimport { baseURL } from '../URLConfig';\n\nclass addRestPhotos extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      photos: ''\n    };\n\n    this.addPhotos = event => {\n      this.setState({\n        photos: event.target.files\n      });\n    };\n\n    this.uploadPhotos = event => {\n      event.preventDefault();\n      var formData = new FormData();\n\n      for (const key of Object.keys(this.state.photos)) {\n        formData.append('images', this.state.photos[key]);\n      }\n\n      formData.append('rest_id', window.localStorage.getItem('rest_id'));\n      axios.defaults.withCredentials = true;\n      axios.post(`${baseURL}/uploadRestImages`, formData).then(res => {\n        console.log(res);\n      });\n    };\n  }\n\n  render() {\n    console.log(this.state);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(InternalRestHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.addPhotos,\n      multiple: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.uploadPhotos,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }\n    }, \"Add photos\"));\n  }\n\n}\n\nexport default addRestPhotos;","map":{"version":3,"sources":["/Users/darthvader/Documents/CMPE273/yelp_v2/frontend/src/components/addRestPhotos.js"],"names":["React","ImageUploader","InternalRestHeader","axios","baseURL","addRestPhotos","Component","state","photos","addPhotos","event","setState","target","files","uploadPhotos","preventDefault","formData","FormData","key","Object","keys","append","window","localStorage","getItem","defaults","withCredentials","post","then","res","console","log","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,qBAA1B;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,cAAtB;;AAEA,MAAMC,aAAN,SAA4BL,KAAK,CAACM,SAAlC,CAA4C;AAAA;AAAA;AAAA,SAC1CC,KAD0C,GAClC;AAACC,MAAAA,MAAM,EAAC;AAAR,KADkC;;AAAA,SAG1CC,SAH0C,GAG9BC,KAAK,IAAI;AACnB,WAAKC,QAAL,CAAc;AAACH,QAAAA,MAAM,EAACE,KAAK,CAACE,MAAN,CAAaC;AAArB,OAAd;AACD,KALyC;;AAAA,SAO1CC,YAP0C,GAO3BJ,KAAK,IAAI;AACtBA,MAAAA,KAAK,CAACK,cAAN;AAEA,UAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;;AACA,WAAK,MAAMC,GAAX,IAAkBC,MAAM,CAACC,IAAP,CAAY,KAAKb,KAAL,CAAWC,MAAvB,CAAlB,EAAkD;AAC9CQ,QAAAA,QAAQ,CAACK,MAAT,CAAgB,QAAhB,EAA0B,KAAKd,KAAL,CAAWC,MAAX,CAAkBU,GAAlB,CAA1B;AACH;;AACDF,MAAAA,QAAQ,CAACK,MAAT,CAAgB,SAAhB,EAA2BC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,SAA5B,CAA3B;AAEArB,MAAAA,KAAK,CAACsB,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AACAvB,MAAAA,KAAK,CAACwB,IAAN,CAAY,GAAEvB,OAAQ,mBAAtB,EAA0CY,QAA1C,EACGY,IADH,CACQC,GAAG,IAAI;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,OAHH;AAID,KArByC;AAAA;;AAuB1CG,EAAAA,MAAM,GAAG;AACPF,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKxB,KAAjB;AACA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,EAAI,KAAKE,SAApC;AAA+C,MAAA,QAAQ,MAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE;AAAQ,MAAA,OAAO,EAAE,KAAKK,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF,CADF;AAOD;;AAhCyC;;AAmC5C,eAAeT,aAAf","sourcesContent":["import React from 'react';\nimport ImageUploader from 'react-images-upload';\nimport InternalRestHeader from './InternalRestHeader';\nimport axios from 'axios';\nimport {baseURL} from '../URLConfig';\n\nclass addRestPhotos extends React.Component {\n  state = {photos:''}\n\n  addPhotos = event => {\n    this.setState({photos:event.target.files})\n  }\n\n  uploadPhotos = event => {\n    event.preventDefault();\n\n    var formData = new FormData();\n    for (const key of Object.keys(this.state.photos)) {\n        formData.append('images', this.state.photos[key])\n    }\n    formData.append('rest_id', window.localStorage.getItem('rest_id'));        \n\n    axios.defaults.withCredentials = true;\n    axios.post(`${baseURL}/uploadRestImages`, formData)\n      .then(res => {\n        console.log(res)\n      })\n  }\n  \n  render() {\n    console.log(this.state)\n    return (\n      <div>\n        <InternalRestHeader/>\n        <input type=\"file\" onChange = {this.addPhotos} multiple/>\n        <button onClick={this.uploadPhotos}>Add photos</button>\n      </div>\n    )    \n  }\n}\n\nexport default addRestPhotos;"]},"metadata":{},"sourceType":"module"}