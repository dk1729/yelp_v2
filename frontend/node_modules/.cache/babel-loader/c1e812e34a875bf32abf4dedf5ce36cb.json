{"ast":null,"code":"var _jsxFileName = \"/Users/darthvader/Documents/CMPE273/yelp_v2/frontend/src/components/Photos/addphoto.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Redirect } from 'react-router';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport InternalHeader from '../Headers/InternalHeader';\nimport ImageUploader from 'react-images-upload';\nimport { Button } from 'semantic-ui-react';\nimport { baseURL } from '../URLConfig';\n\nclass addphoto extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.onDrop = picture => {\n      console.log(picture.target.files[0]);\n      var formData = new FormData();\n      formData.append('image', picture.target.files[0]);\n      formData.append('id', window.localStorage.getItem('id'));\n\n      for (var key of formData.entries()) {\n        console.log(key[0] + ', ' + key[1]);\n      }\n\n      const config = {\n        headers: {\n          'enctype': 'multipart/form-data'\n        }\n      };\n      axios.defaults.withCredentials = true;\n      axios.post(`${baseURL}/upload`, formData, config).then(res => {\n        console.log(res);\n      });\n    };\n  }\n\n  render() {\n    let redirectVar = null;\n\n    if (!window.localStorage.getItem('id')) {\n      redirectVar = /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/login/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 23\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }\n    }, redirectVar, /*#__PURE__*/React.createElement(InternalHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.onDrop,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    id: state.id.id,\n    isSignedIn: state.auth.isSignedIn\n  };\n};\n\nexport default connect(mapStateToProps)(addphoto);","map":{"version":3,"sources":["/Users/darthvader/Documents/CMPE273/yelp_v2/frontend/src/components/Photos/addphoto.js"],"names":["React","Component","axios","Redirect","connect","Link","InternalHeader","ImageUploader","Button","baseURL","addphoto","onDrop","picture","console","log","target","files","formData","FormData","append","window","localStorage","getItem","key","entries","config","headers","defaults","withCredentials","post","then","res","render","redirectVar","mapStateToProps","state","id","isSignedIn","auth"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,QAAuB,cAAvB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAOC,cAAP,MAA2B,2BAA3B;AACA,OAAOC,aAAP,MAA0B,qBAA1B;AACA,SAAQC,MAAR,QAAqB,mBAArB;AACA,SAAQC,OAAR,QAAsB,cAAtB;;AAEA,MAAMC,QAAN,SAAuBT,SAAvB,CAAiC;AAAA;AAAA;;AAAA,SAE/BU,MAF+B,GAErBC,OAAD,IAAa;AACpBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,OAAO,CAACG,MAAR,CAAeC,KAAf,CAAqB,CAArB,CAAZ;AACA,UAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBP,OAAO,CAACG,MAAR,CAAeC,KAAf,CAAqB,CAArB,CAAzB;AACAC,MAAAA,QAAQ,CAACE,MAAT,CAAgB,IAAhB,EAAsBC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,IAA5B,CAAtB;;AACA,WAAK,IAAIC,GAAT,IAAgBN,QAAQ,CAACO,OAAT,EAAhB,EAAoC;AACrCX,QAAAA,OAAO,CAACC,GAAR,CAAYS,GAAG,CAAC,CAAD,CAAH,GAAS,IAAT,GAAgBA,GAAG,CAAC,CAAD,CAA/B;AACE;;AAED,YAAME,MAAM,GAAG;AACbC,QAAAA,OAAO,EAAC;AACN,qBAAU;AADJ;AADK,OAAf;AAKAxB,MAAAA,KAAK,CAACyB,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AACA1B,MAAAA,KAAK,CAAC2B,IAAN,CAAY,GAAEpB,OAAQ,SAAtB,EAAgCQ,QAAhC,EAA0CQ,MAA1C,EACGK,IADH,CACQC,GAAG,IAAI;AACXlB,QAAAA,OAAO,CAACC,GAAR,CAAYiB,GAAZ;AACD,OAHH;AAID,KArB8B;AAAA;;AAuB/BC,EAAAA,MAAM,GAAG;AACP,QAAIC,WAAW,GAAG,IAAlB;;AACA,QAAG,CAACb,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,IAA5B,CAAJ,EAAsC;AAClCW,MAAAA,WAAW,gBAAG,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAE,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAd;AACH;;AACD,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGA,WADH,eAEE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,IAAI,EAAG,MAAd;AAAqB,MAAA,QAAQ,EAAI,KAAKtB,MAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAHF,CADF;AASD;;AArC8B;;AAwCjC,MAAMuB,eAAe,GAAIC,KAAD,IAAU;AAChC,SAAO;AAACC,IAAAA,EAAE,EAACD,KAAK,CAACC,EAAN,CAASA,EAAb;AAAiBC,IAAAA,UAAU,EAACF,KAAK,CAACG,IAAN,CAAWD;AAAvC,GAAP;AACD,CAFD;;AAIA,eAAejC,OAAO,CAAC8B,eAAD,CAAP,CAAyBxB,QAAzB,CAAf","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\nimport {Redirect} from 'react-router';\nimport {connect} from 'react-redux';\nimport {Link} from 'react-router-dom';\nimport InternalHeader from '../Headers/InternalHeader';\nimport ImageUploader from 'react-images-upload';\nimport {Button} from 'semantic-ui-react';\nimport {baseURL} from '../URLConfig';\n\nclass addphoto extends Component {\n\n  onDrop = (picture) => {\n    console.log(picture.target.files[0])\n    var formData = new FormData();\n    formData.append('image', picture.target.files[0]);\n    formData.append('id', window.localStorage.getItem('id'));\n    for (var key of formData.entries()) {\n\t\t\tconsole.log(key[0] + ', ' + key[1])\n    }\n\n    const config = {\n      headers:{\n        'enctype':'multipart/form-data'\n      }\n    }\n    axios.defaults.withCredentials = true;\n    axios.post(`${baseURL}/upload`, formData, config)\n      .then(res => {\n        console.log(res)\n      })\n  }  \n\n  render() {\n    let redirectVar = null;\n    if(!window.localStorage.getItem('id')){\n        redirectVar = <Redirect to= \"/login/\"/>\n    }\n    return (      \n      <div>\n        {redirectVar}\n        <InternalHeader/>\n        <div>\n          <input type = 'file' onChange = {this.onDrop} />\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) =>{\n  return {id:state.id.id, isSignedIn:state.auth.isSignedIn}\n}\n\nexport default connect(mapStateToProps)(addphoto);"]},"metadata":{},"sourceType":"module"}