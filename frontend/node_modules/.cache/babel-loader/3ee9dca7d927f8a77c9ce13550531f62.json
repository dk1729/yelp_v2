{"ast":null,"code":"var _jsxFileName = \"/Users/darthvader/Documents/CMPE273/yelp_v2/frontend/src/components/Orders/OrderHistory.js\";\nimport React, { Component } from 'react';\nimport InternalHeader from './InternalHeader';\nimport { Field, reduxForm, Form } from 'redux-form';\nimport { Row, Col, Card } from 'react-bootstrap';\nimport { fetchOrderData } from '../../actions';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { baseURL } from '../../URLConfig';\n\nclass OrderHistory extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      updatedData: []\n    };\n\n    this.renderInput = ({\n      input,\n      label,\n      type\n    }) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"field\",\n        style: {\n          marginTop: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", Object.assign({}, input, {\n        type: type,\n        style: {\n          marginLeft: 10,\n          marginTop: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 9\n        }\n      })), /*#__PURE__*/React.createElement(\"label\", {\n        style: {\n          marginLeft: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 78\n        }\n      }, label));\n    };\n\n    this.onSubmit = formValues => {\n      console.log(\"Ok\");\n      console.log(formValues);\n      let temp = [];\n\n      for (var key in formValues) {\n        if (formValues.hasOwnProperty(key)) {\n          console.log(key + \" -> \" + formValues[key]);\n\n          if (formValues[key]) {\n            temp.push(key);\n          }\n        }\n      }\n\n      console.log(temp);\n      axios.defaults.withCredentials = true;\n      axios.post(`${baseURL}/filter_order_status`, {\n        id: window.localStorage.getItem('id'),\n        type: \"user\",\n        statuses: temp\n      }).then(response => {\n        console.log(\"Status Code : \", response.status);\n        console.log(response.data);\n        this.setState({\n          updatedData: response.data\n        });\n      }).catch(err => {\n        console.log(\"ERRR : \", err);\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchOrderData(window.localStorage.getItem('id'), \"user\");\n  }\n\n  render() {\n    let filter_options = null;\n    let order_cards = null;\n\n    if (this.state.updatedData.length > 0) {\n      order_cards = this.state.updatedData.map(order => {\n        let item_details = null;\n        item_details = order.dishes.map(dish => {\n          return /*#__PURE__*/React.createElement(Row, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(Col, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 18\n            }\n          }, dish));\n        }); //Delivery: Received, Preparing, Out for delivery, deivered, cancelled\n        //Takeout: Received, Preparing, Ready for pickup, picked up, cancelled\n\n        return /*#__PURE__*/React.createElement(Card, {\n          bg: \"white\",\n          className: \"shadow p-3 mb-5 rounded\",\n          style: {\n            width: \"700px\",\n            marginLeft: 50,\n            marginTop: 20,\n            height: \"200px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Card.Body, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Card.Title, {\n          style: {\n            marginLeft: \"10%\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }\n        }, order.rest_name), /*#__PURE__*/React.createElement(Card.Text, {\n          style: {\n            marginLeft: \"10%\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(Row, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 22\n          }\n        }, order.mode)), /*#__PURE__*/React.createElement(Row, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 22\n          }\n        }, \"Total: \", order.total)), /*#__PURE__*/React.createElement(Row, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 22\n          }\n        }, \"Status: \", order.status)), item_details)));\n      });\n    } else if (this.props.orders.orders.length !== undefined) {\n      order_cards = this.props.orders.orders.map(order => {\n        let item_details = null;\n        item_details = order.dishes.map(dish => {\n          return /*#__PURE__*/React.createElement(Row, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(Col, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 18\n            }\n          }, dish));\n        }); //Delivery: Received, Preparing, Out for delivery, deivered, cancelled\n        //Takeout: Received, Preparing, Ready for pickup, picked up, cancelled\n\n        return /*#__PURE__*/React.createElement(Card, {\n          bg: \"white\",\n          className: \"shadow p-3 mb-5 rounded\",\n          style: {\n            width: \"700px\",\n            marginLeft: 50,\n            marginTop: 20,\n            height: \"200px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Card.Body, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Card.Title, {\n          style: {\n            marginLeft: \"10%\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }\n        }, order.rest_name), /*#__PURE__*/React.createElement(Card.Text, {\n          style: {\n            marginLeft: \"10%\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(Row, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 22\n          }\n        }, order.mode)), /*#__PURE__*/React.createElement(Row, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 22\n          }\n        }, \"Total: \", order.total)), /*#__PURE__*/React.createElement(Row, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 22\n          }\n        }, \"Status: \", order.status)), item_details)));\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(InternalHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 2,\n      className: \"shadow p-3 mb-5 rounded\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 10,\n        marginLeft: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 66\n      }\n    }, \"Filter\")))), /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.props.handleSubmit(this.onSubmit),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(Field, {\n      component: this.renderInput,\n      type: \"checkbox\",\n      name: \"Placed\",\n      label: \"Order Received\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(Field, {\n      component: this.renderInput,\n      type: \"checkbox\",\n      name: \"preparing\",\n      label: \"Preparing\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(Field, {\n      component: this.renderInput,\n      type: \"checkbox\",\n      name: \"out_for_delivery\",\n      label: \"Out For Delivery\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(Field, {\n      component: this.renderInput,\n      type: \"checkbox\",\n      name: \"delivered\",\n      label: \"Delivered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(Field, {\n      component: this.renderInput,\n      type: \"checkbox\",\n      name: \"ready_for_pickup\",\n      label: \"Ready For Pickup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(Field, {\n      component: this.renderInput,\n      type: \"checkbox\",\n      name: \"picked_up\",\n      label: \"Picked Up\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(Field, {\n      component: this.renderInput,\n      type: \"checkbox\",\n      name: \"cancelled\",\n      label: \"Cancelled\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"ui button primary\",\n      style: {\n        marginTop: 10,\n        marginLeft: 10,\n        backgroundColor: \"#d32323\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 25\n      }\n    }, \"Apply filters\"))))), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }\n    }, order_cards))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    orders: state.orders\n  };\n};\n\nexport default reduxForm({\n  form: 'user_order_filter'\n})(connect(mapStateToProps, {\n  fetchOrderData\n})(OrderHistory));","map":{"version":3,"sources":["/Users/darthvader/Documents/CMPE273/yelp_v2/frontend/src/components/Orders/OrderHistory.js"],"names":["React","Component","InternalHeader","Field","reduxForm","Form","Row","Col","Card","fetchOrderData","connect","axios","baseURL","OrderHistory","state","updatedData","renderInput","input","label","type","marginTop","marginLeft","onSubmit","formValues","console","log","temp","key","hasOwnProperty","push","defaults","withCredentials","post","id","window","localStorage","getItem","statuses","then","response","status","data","setState","catch","err","componentDidMount","props","render","filter_options","order_cards","length","map","order","item_details","dishes","dish","width","height","rest_name","mode","total","orders","undefined","handleSubmit","backgroundColor","mapStateToProps","form"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport InternalHeader from './InternalHeader';\nimport {Field, reduxForm, Form} from 'redux-form';\nimport {Row,Col, Card} from 'react-bootstrap';\nimport {fetchOrderData} from '../../actions';\nimport {connect} from 'react-redux';\nimport axios from 'axios';\nimport {baseURL} from '../../URLConfig';\n\nclass OrderHistory extends Component {\n\n  state={updatedData:[]}\n\n  componentDidMount(){\n    this.props.fetchOrderData(window.localStorage.getItem('id'), \"user\");\n  }\n\n  renderInput = ({input, label, type}) => {\n    return (\n      <div className=\"field\" style={{marginTop:10}}>        \n        <input {...input} type={type} style={{marginLeft:10, marginTop:10}}/><label style={{marginLeft:10}}>{label}</label>\n      </div>\n    );\n  }\n\n  onSubmit = formValues => {\n    console.log(\"Ok\")\n    console.log(formValues)\n    let temp = []\n    for (var key in formValues) {\n      if (formValues.hasOwnProperty(key)) {\n        console.log(key + \" -> \" + formValues[key]);\n        if(formValues[key]){\n          temp.push(key)\n        }        \n      }\n    }\n    console.log(temp)\n\n    axios.defaults.withCredentials = true;\n    axios.post(`${baseURL}/filter_order_status`,{id:window.localStorage.getItem('id'), type:\"user\", statuses:temp})\n    .then(response => {\n      console.log(\"Status Code : \",response.status);\n      console.log(response.data)\n      this.setState({updatedData:response.data})\n    }).catch((err)=>{\n      console.log(\"ERRR : \",err)\n    });\n  }\n\n  render() {\n    let filter_options = null;\n    let order_cards = null;\n    if(this.state.updatedData.length>0){\n      order_cards = this.state.updatedData.map(order => {\n        let item_details = null;\n        item_details = order.dishes.map(dish => {\n          return (\n            <Row><Col>{dish}</Col></Row>\n          )\n        })\n        \n        //Delivery: Received, Preparing, Out for delivery, deivered, cancelled\n        //Takeout: Received, Preparing, Ready for pickup, picked up, cancelled\n        return (\n          <Card bg=\"white\" className=\"shadow p-3 mb-5 rounded\" style={{width:\"700px\",marginLeft:50, marginTop:20, height:\"200px\"}}>\n            <Card.Body>\n              <Card.Title style={{marginLeft:\"10%\"}}>{order.rest_name}</Card.Title>\n              <Card.Text style={{marginLeft:\"10%\"}}>\n                <Row><Col>{order.mode}</Col></Row>\n                <Row><Col>Total: {order.total}</Col></Row>\n                <Row><Col>Status: {order.status}</Col></Row>\n                {item_details}                  \n              </Card.Text>\n            </Card.Body>\n          </Card>\n        )\n      })\n    }\n    else if(this.props.orders.orders.length!==undefined){\n      order_cards = this.props.orders.orders.map(order => {\n        let item_details = null;\n        item_details = order.dishes.map(dish => {\n          return (\n            <Row><Col>{dish}</Col></Row>\n          )\n        })\n\n        //Delivery: Received, Preparing, Out for delivery, deivered, cancelled\n        //Takeout: Received, Preparing, Ready for pickup, picked up, cancelled\n        return (\n          <Card bg=\"white\" className=\"shadow p-3 mb-5 rounded\" style={{width:\"700px\",marginLeft:50, marginTop:20, height:\"200px\"}}>\n            <Card.Body>\n              <Card.Title style={{marginLeft:\"10%\"}}>{order.rest_name}</Card.Title>\n              <Card.Text style={{marginLeft:\"10%\"}}>\n                <Row><Col>{order.mode}</Col></Row>\n                <Row><Col>Total: {order.total}</Col></Row>\n                <Row><Col>Status: {order.status}</Col></Row>\n                {item_details}                  \n              </Card.Text>\n            </Card.Body>\n          </Card>\n        )\n      })\n    }\n\n    return (\n      <div>\n        <InternalHeader/>\n        <Row>\n          <Col md={2} className=\"shadow p-3 mb-5 rounded\">\n            <Row><Col><div style={{marginTop:10, marginLeft:10}}><h4>Filter</h4></div></Col></Row>\n            <Form onSubmit={this.props.handleSubmit(this.onSubmit)}>\n              <Row><Col><Field component={this.renderInput} type=\"checkbox\" name=\"Placed\" label=\"Order Received\"></Field></Col></Row>\n              <Row><Col><Field component={this.renderInput} type=\"checkbox\" name=\"preparing\" label=\"Preparing\"></Field></Col></Row>\n              <Row><Col><Field component={this.renderInput} type=\"checkbox\" name=\"out_for_delivery\" label=\"Out For Delivery\"></Field></Col></Row>\n              <Row><Col><Field component={this.renderInput} type=\"checkbox\" name=\"delivered\" label=\"Delivered\"></Field></Col></Row>\n              <Row><Col><Field component={this.renderInput} type=\"checkbox\" name=\"ready_for_pickup\" label=\"Ready For Pickup\"></Field></Col></Row>\n              <Row><Col><Field component={this.renderInput} type=\"checkbox\" name=\"picked_up\" label=\"Picked Up\"></Field></Col></Row>\n              <Row><Col><Field component={this.renderInput} type=\"checkbox\" name=\"cancelled\" label=\"Cancelled\"></Field></Col></Row>\n              <Row><Col><button className=\"ui button primary\" style={{marginTop:10, marginLeft:10, backgroundColor:\"#d32323\"}}>Apply filters</button></Col></Row>\n            </Form>\n          </Col>\n          <Col>\n            <Row>\n              {order_cards}\n            </Row>\n          </Col>\n        </Row>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {orders:state.orders}\n}\n\nexport default reduxForm({form:'user_order_filter'})(connect(mapStateToProps,{fetchOrderData})(OrderHistory));"]},"metadata":{},"sourceType":"module"}