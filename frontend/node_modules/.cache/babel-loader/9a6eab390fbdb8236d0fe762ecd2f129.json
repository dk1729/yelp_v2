{"ast":null,"code":"var _jsxFileName = \"/Users/darthvader/Documents/CMPE273/yelp_v2/frontend/src/components/Events/RestEvents.js\";\nimport React, { Component } from 'react';\nimport InternalRestHeader from '../Headers/InternalRestHeader';\nimport { Row, Col } from 'react-bootstrap';\nimport { fetchRestEvents } from '../../actions';\nimport CreateEventModal from './CreateEventModal';\nimport { connect } from 'react-redux';\nimport { Button, Card } from 'semantic-ui-react';\nimport RegisteredUsersModal from './RegisteredUsersModal';\n\nclass RestEvents extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      modalShow: false,\n      modal2: false,\n      RU: []\n    };\n\n    this.handleModal = event => {\n      event.preventDefault();\n      this.setState({\n        modalShow: true\n      });\n    };\n\n    this.handleHide = () => {\n      this.props.fetchRestEvents(window.localStorage.getItem('rest_id'));\n      this.setState({\n        modalShow: false\n      });\n    };\n\n    this.handleModal2 = (id, RU) => {\n      console.log(\"ID.........\" + id);\n      console.log(\"Modal 2 clicked\");\n      this.setState({\n        RU: RU,\n        modal2: true\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchRestEvents(window.localStorage.getItem('rest_id'));\n  }\n\n  render() {\n    console.log(\"OK<<<<<<<<<<<\");\n    console.log(this.props);\n    let event_cards = null;\n\n    if (this.props.restEvents.restEvents.length !== undefined) {\n      event_cards = this.props.restEvents.restEvents.map(event => {\n        console.log(event.event_id);\n        console.log(event.registeredUsers);\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: event.event_id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Card, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Card.Content, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(Card.Header, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 17\n          }\n        }, event.event_name), /*#__PURE__*/React.createElement(Card.Meta, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 17\n          }\n        }, event.event_hash), /*#__PURE__*/React.createElement(Card.Description, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 17\n          }\n        }, event.event_description)), /*#__PURE__*/React.createElement(Card.Content, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }\n        }, \"Event Date: \", event.event_date.substring(0, 10)), /*#__PURE__*/React.createElement(Card.Content, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }\n        }, event.event_location), /*#__PURE__*/React.createElement(Card.Content, {\n          extra: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          basic: true,\n          color: \"green\",\n          onClick: () => this.handleModal2(event.event_id, event.registeredUsers),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 19\n          }\n        }, \"Show Registered Users\"))));\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(InternalRestHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(RegisteredUsersModal, {\n      users: this.state.RU,\n      show: this.state.modal2,\n      onHide: () => this.setState({\n        modal2: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"shadow p-3 mb-5 rounded\",\n      style: {\n        marginTop: 10\n      },\n      style: {\n        marginTop: 10,\n        marginLeft: 50,\n        backgroundColor: \"#d32323\",\n        color: \"white\"\n      },\n      onClick: this.handleModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, \"Create Event\"), /*#__PURE__*/React.createElement(CreateEventModal, {\n      show: this.state.modalShow,\n      onHide: this.handleHide,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Card.Group, {\n      style: {\n        marginLeft: 10,\n        marginTop: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, event_cards))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    restEvents: state.restEvents,\n    isSignedIn: state.auth.isSignedIn\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchRestEvents\n})(RestEvents);","map":{"version":3,"sources":["/Users/darthvader/Documents/CMPE273/yelp_v2/frontend/src/components/Events/RestEvents.js"],"names":["React","Component","InternalRestHeader","Row","Col","fetchRestEvents","CreateEventModal","connect","Button","Card","RegisteredUsersModal","RestEvents","state","modalShow","modal2","RU","handleModal","event","preventDefault","setState","handleHide","props","window","localStorage","getItem","handleModal2","id","console","log","componentDidMount","render","event_cards","restEvents","length","undefined","map","event_id","registeredUsers","event_name","event_hash","event_description","event_date","substring","event_location","marginTop","marginLeft","backgroundColor","color","mapStateToProps","isSignedIn","auth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport InternalRestHeader from '../Headers/InternalRestHeader';\nimport {Row, Col} from 'react-bootstrap';\nimport {fetchRestEvents} from '../../actions';\nimport CreateEventModal from './CreateEventModal';\nimport {connect} from 'react-redux';\nimport {Button, Card } from 'semantic-ui-react';\nimport RegisteredUsersModal from './RegisteredUsersModal';\n\nclass RestEvents extends Component {\n  state = {modalShow:false, modal2:false, RU:[]};\n\n  componentDidMount(){\n    this.props.fetchRestEvents(window.localStorage.getItem('rest_id'));\n  }\n\n  handleModal = event => {\n    event.preventDefault();\n    this.setState({modalShow:true})\n  }\n\n  handleHide = () => {\n    this.props.fetchRestEvents(window.localStorage.getItem('rest_id'));\n    this.setState({modalShow:false})\n  }\n\n  handleModal2 = (id, RU) => {\n    console.log(\"ID.........\"+id)    \n    console.log(\"Modal 2 clicked\")\n    this.setState({RU:RU, modal2:true})\n  }\n\n  render() {\n    console.log(\"OK<<<<<<<<<<<\")\n    console.log(this.props)\n    let event_cards = null;\n    if(this.props.restEvents.restEvents.length!==undefined){\n      event_cards = this.props.restEvents.restEvents.map(event => {\n        console.log(event.event_id)\n        console.log(event.registeredUsers)\n        return(\n          <div key={event.event_id}>\n            <Card>\n              <Card.Content>\n                <Card.Header>{event.event_name}</Card.Header>\n                <Card.Meta>{event.event_hash}</Card.Meta>\n                <Card.Description>\n                  {event.event_description}\n                </Card.Description>\n              </Card.Content>\n              <Card.Content>\n                Event Date: {event.event_date.substring(0,10)}\n              </Card.Content>\n              <Card.Content>\n                {event.event_location}\n              </Card.Content>\n              <Card.Content extra>\n                  <Button basic color='green' onClick = {() => this.handleModal2(event.event_id, event.registeredUsers)}>\n                    Show Registered Users\n                  </Button>                  \n              </Card.Content>\n            </Card>\n          </div>\n        )\n      })\n    }\n    return (\n      <div>\n        <InternalRestHeader/>\n        <RegisteredUsersModal users={this.state.RU} show={this.state.modal2} onHide={()=>this.setState({modal2:false})}/>\n        <Row>\n          <Col md={2} >\n            <Row>\n              <Col >\n                <Button className=\"shadow p-3 mb-5 rounded\" style={{marginTop:10}} style={{marginTop:10, marginLeft:50, backgroundColor:\"#d32323\", color:\"white\"}} onClick = {this.handleModal}>Create Event</Button>\n                <CreateEventModal show={this.state.modalShow} onHide={this.handleHide}/>\n              </Col>\n            </Row>\n          </Col>\n          <Col>\n            <Card.Group style={{marginLeft:10, marginTop:10}}>\n              {event_cards}  \n            </Card.Group>\n          </Col>\n        </Row>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) =>{\n  return {restEvents:state.restEvents, isSignedIn:state.auth.isSignedIn}\n}\n\nexport default connect(mapStateToProps,{fetchRestEvents})(RestEvents);"]},"metadata":{},"sourceType":"module"}