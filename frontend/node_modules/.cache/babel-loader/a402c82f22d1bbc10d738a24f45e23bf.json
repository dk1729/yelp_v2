{"ast":null,"code":"var _jsxFileName = \"/Users/darthvader/Documents/CMPE273/yelp_v2/frontend/src/components/UserPages/restaurants.js\";\nimport React, { Component } from 'react';\nimport InternalHeader from '../Headers/InternalHeader';\nimport { Row, Col, Card } from 'react-bootstrap';\nimport { fetchRestaurants } from '../../actions';\nimport { Redirect } from 'react-router';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Field, reduxForm } from 'redux-form';\nimport axios from 'axios';\nimport Maps from './Maps';\nimport { baseURL } from '../URLConfig';\n\nclass restaurants extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      updatedData: [],\n      nosuch: false\n    };\n\n    this.renderInput = ({\n      input,\n      label,\n      type,\n      placeholder\n    }) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"field\",\n        style: {\n          marginTop: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", Object.assign({}, input, {\n        type: type,\n        placeholder: placeholder,\n        style: {\n          marginLeft: 20,\n          marginTop: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 9\n        }\n      })), /*#__PURE__*/React.createElement(\"label\", {\n        style: {\n          marginLeft: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 104\n        }\n      }, label));\n    };\n\n    this.onSubmit = formValues => {\n      console.log(\"Old formvalues = \" + JSON.stringify(formValues));\n      let temp = [];\n      let newVal = {};\n      console.log(\"OK, so search terms are \");\n      console.log(this.props.searchTerms);\n\n      for (var key in formValues) {\n        if (formValues.hasOwnProperty(key)) {\n          console.log(key + \" -> \" + formValues[key]);\n\n          if (formValues[key]) {\n            if (key !== \"takeout\" && key !== \"delivery\" && key !== \"dineout\") {\n              // temp = temp+\", \"+key;\n              temp.push(key);\n            } else if (key === \"takeout\") {\n              newVal = { ...newVal,\n                takeout: formValues[key]\n              };\n            } else if (key === \"delivery\") {\n              newVal = { ...newVal,\n                delivery: formValues[key]\n              };\n            } else if (key === \"dineout\") {\n              newVal = { ...newVal,\n                dineout: formValues[key]\n              };\n            }\n          }\n        }\n      }\n\n      if (temp.length > 0) {\n        formValues = { ...newVal,\n          hood: temp\n        };\n      } else {\n        formValues = { ...newVal\n        }; // formValues = {...newVal, rest_id:window.localStorage.getItem('rest_id')}\n      }\n\n      if (this.props.searchTerms) {\n        formValues = { ...formValues,\n          searchTerm: this.props.searchTerms.term,\n          searchLoc: this.props.searchTerms.location\n        };\n      }\n\n      console.log(\"New formvalues = \" + JSON.stringify(formValues));\n      axios.defaults.withCredentials = true;\n      axios.post(`${baseURL}/filter`, formValues).then(response => {\n        console.log(\"Status Code : \", response.status);\n\n        if (response.status === 200) {\n          this.setState({\n            updatedData: response.data,\n            nosuch: false\n          });\n        }\n      }).catch(err => {\n        console.log(\"ERRR : \", err);\n        this.setState({\n          nosuch: true\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.props.fetchRestaurants();\n    }, 0);\n  }\n\n  componentWillReceiveProps() {\n    console.log(\"Ok, filtered rests : \");\n    setTimeout(() => {\n      console.log(this.props.filtered_restaurants);\n      this.setState({\n        updatedData: this.props.filtered_restaurants.filtered_restaurants\n      });\n    }, 0);\n  }\n\n  render() {\n    let redirectVar = null;\n\n    if (!window.localStorage.getItem('isSignedIn')) {\n      redirectVar = /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/login/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }\n      });\n    }\n\n    let restInfo = null;\n    let hoodInfo = [];\n    let markerInfo = [];\n\n    if (this.state.nosuch) {\n      restInfo = /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }\n      }, \"No such restaurants\");\n    } else if (this.state.updatedData.length > 0) {\n      restInfo = this.state.updatedData.map(restaurant => {\n        if (!hoodInfo.includes(restaurant.hood)) {\n          hoodInfo.push(restaurant.hood);\n        }\n\n        markerInfo.push({\n          rest_name: restaurant.rest_name,\n          latitude: restaurant.latitude,\n          longitude: restaurant.longitude\n        });\n        return /*#__PURE__*/React.createElement(Link, {\n          to: {\n            pathname: \"/biz\",\n            state: {\n              restaurant\n            }\n          },\n          style: {\n            textDecoration: \"none\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Card, {\n          bg: \"white\",\n          className: \"shadow p-3 mb-5 rounded\",\n          style: {\n            color: \"black\",\n            width: \"600px\",\n            marginLeft: 20,\n            marginTop: 15,\n            height: \"200px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Card.Body, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            width: \"100px\",\n            height: \"100px\",\n            float: \"left\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          alt: \"Profile\",\n          src: `${baseURL}/${restaurant.path1}`,\n          style: {\n            width: \"100px\",\n            height: \"100px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 73\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(Card.Title, {\n          style: {\n            marginLeft: \"30%\",\n            marginTop: -10\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 17\n          }\n        }, restaurant.rest_name), /*#__PURE__*/React.createElement(Card.Text, {\n          style: {\n            marginLeft: \"30%\",\n            marginTop: -10\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Row, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 24\n          }\n        }, restaurant.description)), /*#__PURE__*/React.createElement(Row, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 24\n          }\n        }, \"Located at: \", restaurant.location)), /*#__PURE__*/React.createElement(Row, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 24\n          }\n        }, \"We're open: \", restaurant.timings)))))));\n      });\n    } else if (this.props.restaurants.restaurants.length !== undefined) {\n      restInfo = this.props.restaurants.restaurants.map(restaurant => {\n        if (!hoodInfo.includes(restaurant.hood)) {\n          hoodInfo.push(restaurant.hood);\n        }\n\n        markerInfo.push({\n          rest_name: restaurant.rest_name,\n          latitude: restaurant.latitude,\n          longitude: restaurant.longitude\n        });\n        return /*#__PURE__*/React.createElement(Link, {\n          to: {\n            pathname: \"/biz\",\n            state: {\n              restaurant\n            }\n          },\n          style: {\n            textDecoration: \"none\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Card, {\n          bg: \"white\",\n          className: \"shadow p-3 mb-5 rounded\",\n          style: {\n            color: \"black\",\n            width: \"600px\",\n            marginLeft: 20,\n            marginTop: 15,\n            height: \"200px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Card.Body, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            width: \"100px\",\n            height: \"100px\",\n            float: \"left\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          alt: \"Profile Photo\",\n          src: `${baseURL}/${restaurant.path1}`,\n          style: {\n            width: \"100px\",\n            height: \"100px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 73\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(Card.Title, {\n          style: {\n            marginLeft: \"30%\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 17\n          }\n        }, restaurant.rest_name), /*#__PURE__*/React.createElement(Card.Text, {\n          style: {\n            marginLeft: \"30%\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Row, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 24\n          }\n        }, restaurant.description)), /*#__PURE__*/React.createElement(Row, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 24\n          }\n        }, \"Located at: \", restaurant.location)), /*#__PURE__*/React.createElement(Row, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 24\n          }\n        }, \"We're open: \", restaurant.timings)))))));\n      });\n    }\n\n    let hoodFilter = null;\n\n    if (hoodInfo.length > 0) {\n      hoodFilter = hoodInfo.map(hood => {\n        return /*#__PURE__*/React.createElement(Field, {\n          component: this.renderInput,\n          type: \"checkbox\",\n          name: hood,\n          label: hood,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 11\n          }\n        });\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 7\n      }\n    }, redirectVar, /*#__PURE__*/React.createElement(InternalHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 2,\n      style: {\n        height: \"100%\"\n      },\n      className: \"shadow p-3 mb-5 rounded\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 10,\n        marginLeft: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 66\n      }\n    }, \"Filter\")))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 10,\n        marginLeft: 20,\n        position: \"sticky\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 77\n      }\n    }, \"Delivery Methods\")), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.props.handleSubmit(this.onSubmit),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Field, {\n      name: \"takeout\",\n      component: this.renderInput,\n      type: \"checkbox\",\n      label: \"Takeout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Field, {\n      name: \"delivery\",\n      component: this.renderInput,\n      type: \"checkbox\",\n      label: \"Delivery\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Field, {\n      name: \"dineout\",\n      component: this.renderInput,\n      type: \"checkbox\",\n      label: \"Dine-out\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 10,\n        marginLeft: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 62\n      }\n    }, \"Neighbourhoods\")), hoodFilter, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"ui button primary shadow p-3 mb-5 rounded\",\n      style: {\n        marginTop: 20,\n        marginLeft: 20,\n        backgroundColor: \"#d32323\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 19\n      }\n    }, \"Apply filters\"))))), /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }\n    }, restInfo), /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      style: {\n        height: 1000,\n        marginLeft: -14,\n        position: \"sticky\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Maps, {\n      coords: markerInfo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    restaurants: state.restaurants,\n    isSignedIn: state.auth.isSignedIn,\n    searchTerms: state.searchTerms,\n    filtered_restaurants: state.filtered_restaurants\n  };\n};\n\nexport default reduxForm({\n  form: 'filterRest'\n})(connect(mapStateToProps, {\n  fetchRestaurants\n})(restaurants));","map":{"version":3,"sources":["/Users/darthvader/Documents/CMPE273/yelp_v2/frontend/src/components/UserPages/restaurants.js"],"names":["React","Component","InternalHeader","Row","Col","Card","fetchRestaurants","Redirect","connect","Link","Field","reduxForm","axios","Maps","baseURL","restaurants","state","updatedData","nosuch","renderInput","input","label","type","placeholder","marginTop","marginLeft","onSubmit","formValues","console","log","JSON","stringify","temp","newVal","props","searchTerms","key","hasOwnProperty","push","takeout","delivery","dineout","length","hood","searchTerm","term","searchLoc","location","defaults","withCredentials","post","then","response","status","setState","data","catch","err","componentDidMount","setTimeout","componentWillReceiveProps","filtered_restaurants","render","redirectVar","window","localStorage","getItem","restInfo","hoodInfo","markerInfo","map","restaurant","includes","rest_name","latitude","longitude","pathname","textDecoration","color","width","height","float","path1","description","timings","undefined","hoodFilter","position","handleSubmit","backgroundColor","mapStateToProps","isSignedIn","auth","form"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport InternalHeader from '../Headers/InternalHeader';\nimport {Row,Col, Card} from 'react-bootstrap';\nimport {fetchRestaurants} from '../../actions';\nimport {Redirect} from 'react-router';\nimport {connect} from 'react-redux';\nimport {Link} from 'react-router-dom';\nimport {Field, reduxForm} from 'redux-form';\nimport axios from 'axios';\nimport Maps from './Maps';\nimport {baseURL} from '../URLConfig';\n\nclass restaurants extends Component {\n  state = {updatedData:[], nosuch:false}\n\n  componentDidMount(){\n    setTimeout(()=>{\n      this.props.fetchRestaurants()\n    },0)    \n  }\n\n  componentWillReceiveProps(){\n    console.log(\"Ok, filtered rests : \")\n    setTimeout(()=>{\n      console.log(this.props.filtered_restaurants)\n      this.setState({updatedData:this.props.filtered_restaurants.filtered_restaurants})\n    },0)    \n  }\n\n  renderInput = ({input, label, type, placeholder}) => {\n    return (\n      <div className=\"field\" style={{marginTop:10}}>        \n        <input {...input} type={type} placeholder={placeholder} style={{marginLeft:20, marginTop:10}}/><label style={{marginLeft:10}}>{label}</label>\n      </div>\n    );\n  }\n\n  onSubmit = formValues => {\n    console.log(\"Old formvalues = \"+JSON.stringify(formValues))\n    let temp = [];\n    let newVal = {}\n    console.log(\"OK, so search terms are \")\n    console.log(this.props.searchTerms)\n    for (var key in formValues) {\n      if (formValues.hasOwnProperty(key)) {\n        console.log(key + \" -> \" + formValues[key]);\n        if(formValues[key]){\n          if((key !== \"takeout\" && key !== \"delivery\" && key !== \"dineout\")){\n            // temp = temp+\", \"+key;\n            temp.push(key)\n          }\n          else if(key === \"takeout\"){\n            newVal = {...newVal, takeout:formValues[key]}\n          }\n          else if(key === \"delivery\"){\n            newVal = {...newVal, delivery:formValues[key]}\n          }\n          else if(key === \"dineout\"){\n            newVal = {...newVal, dineout:formValues[key]}\n          }\n        }        \n      }\n    }\n    if(temp.length>0){\n      formValues = {...newVal, hood:temp}      \n    }      \n    else{\n      formValues = {...newVal}\n      // formValues = {...newVal, rest_id:window.localStorage.getItem('rest_id')}\n    }      \n    if(this.props.searchTerms){\n      formValues = {...formValues, searchTerm:this.props.searchTerms.term, searchLoc:this.props.searchTerms.location}\n    }\n    console.log(\"New formvalues = \"+JSON.stringify(formValues))\n    \n    axios.defaults.withCredentials = true;\n    axios.post(`${baseURL}/filter`,formValues)\n        .then(response => {\n            console.log(\"Status Code : \",response.status);            \n            if(response.status === 200){\n              this.setState({updatedData:response.data, nosuch:false})\n            }            \n        }).catch((err)=>{\n          console.log(\"ERRR : \",err)\n          this.setState({nosuch:true})          \n        });        \n  }\n\n  render() {\n    let redirectVar = null;\n    if(!window.localStorage.getItem('isSignedIn')){\n      redirectVar = <Redirect to= \"/login/\"/>\n    }\n    let restInfo = null;\n    let hoodInfo = [];\n    let markerInfo = [];\n\n    if(this.state.nosuch){\n     restInfo = <div>No such restaurants</div> \n    }\n    else if(this.state.updatedData.length>0){\n      restInfo = this.state.updatedData.map(restaurant => {\n        if(!hoodInfo.includes(restaurant.hood)){\n          hoodInfo.push(restaurant.hood)\n        }\n        markerInfo.push({rest_name:restaurant.rest_name, latitude:restaurant.latitude, longitude:restaurant.longitude})\n        return(\n          <Link to={{pathname:\"/biz\", state:{restaurant}}} style={{textDecoration:\"none\"}}>\n            <Card bg=\"white\" className=\"shadow p-3 mb-5 rounded\" style={{color:\"black\", width:\"600px\",marginLeft:20, marginTop:15, height:\"200px\"}}>\n              <Card.Body>\n              <div style={{width:\"100px\",height:\"100px\", float:\"left\"}}><img alt=\"Profile\" src={`${baseURL}/${restaurant.path1}`} style={{width:\"100px\",height:\"100px\"}}></img></div>\n              <div>\n                <Card.Title style={{marginLeft:\"30%\", marginTop:-10}}>{restaurant.rest_name}</Card.Title>\n                <Card.Text style={{marginLeft:\"30%\", marginTop:-10}}>\n                  <Row><Col>{restaurant.description}</Col></Row>\n                  <Row><Col>Located at: {restaurant.location}</Col></Row>\n                  <Row><Col>We're open: {restaurant.timings}</Col></Row>                              \n                </Card.Text>\n              </div>\n              </Card.Body>\n            </Card>\n          </Link>\n        )\n      });\n    }\n    else if(this.props.restaurants.restaurants.length!==undefined){\n      restInfo = this.props.restaurants.restaurants.map(restaurant => {\n        if(!hoodInfo.includes(restaurant.hood)){\n          hoodInfo.push(restaurant.hood)\n        }\n        markerInfo.push({rest_name:restaurant.rest_name, latitude:restaurant.latitude, longitude:restaurant.longitude})\n        return (\n          <Link to={{pathname:\"/biz\", state:{restaurant}}} style={{textDecoration:\"none\"}}>\n            <Card bg=\"white\" className=\"shadow p-3 mb-5 rounded\" style={{color:\"black\", width:\"600px\",marginLeft:20, marginTop:15, height:\"200px\"}}>\n              <Card.Body>\n              <div style={{width:\"100px\",height:\"100px\", float:\"left\"}}><img alt=\"Profile Photo\" src={`${baseURL}/${restaurant.path1}`} style={{width:\"100px\",height:\"100px\"}}></img></div>\n              <div>\n                <Card.Title style={{marginLeft:\"30%\"}}>{restaurant.rest_name}</Card.Title>\n                <Card.Text style={{marginLeft:\"30%\"}}>\n                  <Row><Col>{restaurant.description}</Col></Row>\n                  <Row><Col>Located at: {restaurant.location}</Col></Row>\n                  <Row><Col>We're open: {restaurant.timings}</Col></Row>                              \n                </Card.Text>\n              </div>\n              </Card.Body>\n            </Card>\n          </Link>\n        )        \n      })      \n    }\n    let hoodFilter = null;\n    if(hoodInfo.length>0){\n      hoodFilter = hoodInfo.map(hood=>{\n        return(\n          <Field component={this.renderInput} type=\"checkbox\" name={hood} label={hood}></Field>\n        )\n      })\n    }\n    return (\n      <div>\n        {redirectVar}\n        <InternalHeader/>\n        <Row>\n          <Col md={2} style={{height:\"100%\"}} className=\"shadow p-3 mb-5 rounded\">\n            <Row><Col><div style={{marginTop:10, marginLeft:20}}><h4>Filter</h4></div></Col></Row>\n            <Row>\n              <Col>\n              <div style={{marginTop:10, marginLeft:20, position:\"sticky\"}}><h5>Delivery Methods</h5></div>\n                <form onSubmit={this.props.handleSubmit(this.onSubmit)}>\n                  <Field name=\"takeout\" component={this.renderInput} type=\"checkbox\" label=\"Takeout\"></Field>\n                  <Field name=\"delivery\" component={this.renderInput} type=\"checkbox\" label=\"Delivery\"></Field>\n                  <Field name=\"dineout\" component={this.renderInput} type=\"checkbox\" label=\"Dine-out\"></Field>                                   \n                  <div style={{marginTop:10, marginLeft:20}}><h5>Neighbourhoods</h5></div>       \n                    {hoodFilter}\n                  <button className=\"ui button primary shadow p-3 mb-5 rounded\" style={{marginTop:20, marginLeft:20, backgroundColor:\"#d32323\"}}>Apply filters</button>\n                </form>\n              </Col>\n            </Row>\n          </Col>\n          <Col md={6}>\n            {restInfo}\n          </Col>\n          <Col md={4} style={{height:1000, marginLeft:-14, position:\"sticky\"}}>            \n            <Maps coords={markerInfo}></Maps>            \n          </Col>\n        </Row>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {restaurants:state.restaurants,  isSignedIn:state.auth.isSignedIn, searchTerms:state.searchTerms, filtered_restaurants:state.filtered_restaurants}\n}\n\nexport default reduxForm({form:'filterRest'})(connect(mapStateToProps,{fetchRestaurants})(restaurants));"]},"metadata":{},"sourceType":"module"}